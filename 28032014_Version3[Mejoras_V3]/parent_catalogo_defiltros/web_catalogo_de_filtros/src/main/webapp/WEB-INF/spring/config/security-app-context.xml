
<beans:beans xmlns="http://www.springframework.org/schema/security"
	xmlns:beans="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
                    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                    http://www.springframework.org/schema/security 
                    http://www.springframework.org/schema/security/spring-security-3.1.xsd">

	<http  auto-config="true" use-expressions="true">
	
	<intercept-url  pattern="/index" access="permitAll()" />	
	<intercept-url  pattern="/buscarPorFiltro" access="isAuthenticated()" />
	<intercept-url  pattern="/buscarPorFoto" access="isAuthenticated()" />	
	<intercept-url  pattern="/buscarPorAplicacion" access="isAuthenticated()" />	
	<intercept-url  pattern="/detalle/**" access="isAuthenticated()" />	
	<intercept-url  pattern="/aplicacion/**" access="isAuthenticated()" />	
	
	<intercept-url  pattern="/app.js" access="isAuthenticated()" />
	<intercept-url  pattern="/app/**" access="isAuthenticated()" />	
	<intercept-url  pattern="/img/**" access="isAuthenticated()" />
	<intercept-url  pattern="/activation/**" access="permitAll()" />
	<intercept-url  pattern="/fileUpload/**" access="permitAll()" />
	<intercept-url  pattern="/resources/**" access="permitAll()" />
	<intercept-url  pattern="/**" access="isAuthenticated()" />

	<intercept-url  pattern="/descargar_volcado/**" access="isAuthenticated()" />
	<intercept-url  pattern="/buscar_actualizaciones/**" access="isAuthenticated()" />
	
	
<!-- 		<intercept-url pattern="/**" access="isAuthenticated()" /> -->
		<!-- <intercept-url pattern="/registro" access="permitAll" /> <intercept-url 
			pattern="/registro_confirmacion" access="permitAll" /> <intercept-url pattern="/" 
			access="permitAll" /> <intercept-url pattern="/index" access="permitAll" 
			/> <intercept-url pattern="/static/**" access="permitAll" /> <intercept-url 
			pattern="/parametros_listar" access="hasRole('ADMINISTRADOR')" /> <intercept-url 
			pattern="/parametros_modificar" access="hasRole('ADMINISTRADOR')" /> <intercept-url 
			pattern="/parametro_baja" access="hasRole('ADMINISTRADOR')" /> <intercept-url 
			pattern="/busqueda_vinos" access="permitAll" /> -->

		<!-- <intercept-url pattern="/secure/**" access="isAuthenticated()" /> 
			<intercept-url pattern="/secure/extreme/**" access="hasRole('supervisor')" 
			/> <intercept-url pattern="/listAccounts.html" access="isAuthenticated()" 
			/> <intercept-url pattern="/home.jsp" access="hasAnyRole('teller')" /> <intercept-url 
			pattern="/**" access="isAuthenticated()" /> -->
<!-- 		<logout logout-success-url="/" /> -->

		<form-login login-page="/index" />
	</http>

<beans:bean id="customAuthenticationProvider" class="ar.com.midasconsultores.catalogodefiltros.security.CustomAuthenticationProvider"/>

	<authentication-manager alias="authenticationManager">
		<authentication-provider ref="customAuthenticationProvider" />

	</authentication-manager>

</beans:beans>
